\ProvidesPackage{thesis}

\usepackage{lipsum} % filltext - remove

\usepackage[bindingoffset=6mm]{geometry} % compensate for binding in twopage (for printing)
\RequirePackage{ragged2e}

\pdfminorversion = 7 % pdf version 1.7

\RequirePackage[norsk,english]{babel}
\RequirePackage[utf8]{inputenc}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%Font encoding:
\RequirePackage[T1]{fontenc}
\RequirePackage{lmodern} % font
%\RequirePackage{bookman} % font
%\RequirePackage{euler}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{graphicx}
\RequirePackage{physics}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TIKZ
\RequirePackage{tikz}
\usetikzlibrary{calc}
\usetikzlibrary{tikzmark}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{backgrounds}
\usetikzlibrary{fadings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{multicol}
\RequirePackage{mathtools}
\RequirePackage{mhchem}
\RequirePackage{caption}
\captionsetup[figure]{labelfont=bf}
\RequirePackage{subcaption}
\RequirePackage{environ}
%%%%%%%%%%%%%%%
% Make table of contents nice
\usepackage{etoolbox}
\patchcmd{\tableofcontents}{\@starttoc}{\vspace{-2cm}\@starttoc}{}{}
\RequirePackage[nottoc,numbib]{tocbibind}
\RequirePackage{emptypage} % Extremely handy. https://tex.stackexchange.com/a/161468/191229
\RequirePackage[titletoc]{appendix}
\setcounter{tocdepth}{2}
%%%%%%%%%%%%%%%%%%%
% Some colors are nice
\RequirePackage[colorlinks]{hyperref}
\makeatletter
\def\@footnotecolor{red}
\define@key{Hyp}{footnotecolor}{%
	\HyColor@HyperrefColor{#1}\@footnotecolor%
}
\def\@footnotemark{%
	\leavevmode
	\ifhmode\edef\@x@sf{\the\spacefactor}\nobreak\fi
	\stepcounter{Hfootnote}%
	\global\let\Hy@saved@currentHref\@currentHref
	\hyper@makecurrent{Hfootnote}%
	\global\let\Hy@footnote@currentHref\@currentHref
	\global\let\@currentHref\Hy@saved@currentHref
	\hyper@linkstart{footnote}{\Hy@footnote@currentHref}%
	\@makefnmark
	\hyper@linkend
	\ifhmode\spacefactor\@x@sf\fi
	\relax
}%
\makeatother
\hypersetup{
	linkcolor=green!40!black,
	citecolor=	cyan!70!black,
	footnotecolor = blue,
	linktocpage=true,
	urlcolor=blue}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fancy page layout
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[RE]{\leftmark}
\fancyhead[LO]{\rightmark}
\renewcommand{\headrulewidth}{0pt}
\RequirePackage[Glenn]{fncychap}
% Sonny, Lenny, Glenn, Conny, Rejne, Bjarne, and Bjornstrup are all viable options to fncychap. Choose the one you find the best! :)
%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Epigraph tool %%%%%%
% Source: https://tex.stackexchange.com/a/65914/191229
\RequirePackage{epigraph}
\setlength\epigraphwidth{10cm}
\setlength\epigraphrule{0pt}
\RequirePackage{etoolbox}
\makeatletter
\patchcmd{\epigraph}{\@epitext{#1}}{\itshape\@epitext{#1}}{}{}
\makeatother

%%%%%%%
% Reference and Citation tools

\RequirePackage{doi} % links for doi
\RequirePackage[square, numbers, sort&compress]{natbib} % nice 
\bibliographystyle{custom_bibliography_style} % hack on unsrtnat
\RequirePackage{cleveref} % smart references

%%%%%%%%
% Other tools
\RequirePackage{bm} % bold symbold
\RequirePackage{todonotes} % add option [disable] to skip todo-notes.
\newcommand{\suggestion}[1]{\todo[color=green!40]{#1}} % Custom todo-note

